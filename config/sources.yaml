# BenchScope 数据源配置 - Phase 7聚焦版
# 说明: 所有采集器参数均可通过此文件调整,修改后下次运行立即生效

# ============================================================
# 论文库 (Academic Papers)
# ============================================================

arxiv:
  enabled: true
  max_results: 50      # 单次50条，减轻arXiv响应压力
  lookback_hours: 168  # 7天窗口，提升新鲜度，减少重复
  timeout_seconds: 60  # arXiv大查询需要更长超时
  max_retries: 3       # 3次重试，配合退避(5s,10s,10s)

  # Phase 11: 扩展通用Benchmark术语 + MGX场景关键词
  keywords:
    # P11新增：通用Benchmark术语（优先匹配，放在最前面）
    - benchmark
    - evaluation benchmark
    - LLM benchmark
    - language model benchmark
    - AI benchmark
    - model evaluation
    - benchmark dataset
    - test suite
    - evaluation framework
    - benchmarking

    # P11新增：MGX场景扩展
    - llm-based agent
    - agent planning
    - function calling
    - tool calling
    - reasoning benchmark
    - agent evaluation

    # P0 - 编程与代码（保持不变）
    - code generation benchmark
    - code evaluation
    - programming benchmark
    - software engineering benchmark
    - program synthesis evaluation
    - code completion benchmark

    # P0 - Web自动化
    - web agent benchmark
    - browser automation benchmark
    - web navigation evaluation
    - GUI automation benchmark

    # P1 - 多智能体
    - multi-agent benchmark
    - agent collaboration evaluation
    - tool use benchmark
    - API usage benchmark

    # Phase 6.5 - 后端开发能力
    - backend development benchmark
    - API design benchmark
    - RESTful API evaluation
    - GraphQL performance benchmark
    - database query benchmark
    - SQL optimization benchmark
    - microservices benchmark
    - distributed systems benchmark
    - system design evaluation
    - backend framework benchmark
    - server performance benchmark
    - web framework comparison

  categories:
    - cs.SE  # Software Engineering
    - cs.AI  # Artificial Intelligence
    - cs.CL  # Computation and Language
    - cs.DC  # Distributed Computing
    - cs.DB  # Databases
    - cs.NI  # Networking and Internet

semantic_scholar:
  enabled: false  # 暂时禁用: 无API密钥
  api_key: ${SEMANTIC_SCHOLAR_API_KEY}
  lookback_years: 2
  max_results: 100
  timeout_seconds: 15
  venues:
    - NeurIPS
    - ICLR
    - ICML
    - ACL
    - EMNLP
    - NAACL
  keywords:
    - benchmark
    - evaluation
    - dataset

# ============================================================
# 评测榜单 (Leaderboards)
# ============================================================

helm:
  enabled: true
  base_url: "https://crfm.stanford.edu/helm/classic/latest/"
  storage_base: "https://storage.googleapis.com/crfm-helm-public/benchmark_output"
  default_release: "v0.4.0"
  timeout_seconds: 15

  # Phase 7: 任务类型白名单
  allowed_scenarios:
    - code
    - coding
    - program
    - reasoning
    - math
    - logic
    - tool
    - api
    - agent
    - web
    - browser
    - gui

  # Phase 7: 任务类型黑名单
  excluded_scenarios:
    - qa
    - question
    - answer
    - reading
    - comprehension
    - dialogue
    - conversation
    - summarization
    - summary
    - translation
    - sentiment
    - classification
    - image
    - vision
    - video

open_llm_leaderboard:
  enabled: false  # Phase 6待接入
  api_url: "https://huggingface.co/api/open-llm-leaderboard/v1/submissions"
  min_score: 60.0
  lookback_days: 30

evalplus:
  enabled: false  # Phase 6待接入
  github_repo: "evalplus/evalplus"
  api_url: "https://evalplus.github.io/leaderboard.html"
  timeout_seconds: 15

# ============================================================
# 开源社区 (Open Source Platforms)
# ============================================================

github:
  enabled: true
  trending_url: "https://github.com/trending"
  search_api: "https://api.github.com/search/repositories"

  # Phase 7: 聚焦MGX话题
  topics:
    # P0 - 编程
    - code-generation
    - code-benchmark
    - program-synthesis
    - coding-challenge
    - software-testing

    # P0 - Web自动化
    - web-automation
    - browser-automation
    - web-agent
    - selenium-testing
    - playwright

    # P1 - GUI/Agents
    - gui-automation
    - agent-benchmark
    - multi-agent
    - llm-agent

    # Phase 6.5 - 后端开发能力
    - backend-benchmark
    - api-benchmark
    - database-benchmark
    - microservices-benchmark
    - distributed-systems
    - system-design
    - restful-api
    - graphql
    - performance-testing
    - load-testing
    - api-testing
    - backend-framework
    - server-benchmark
    - web-framework-benchmark
    - database-performance
    - sql-benchmark

  languages:
    - Python
    - JavaScript
    - TypeScript
    - Go
    - Java
    - Rust

  min_stars: 50
  lookback_days: 30
  timeout_seconds: 5
  token: ${GITHUB_TOKEN}

  # Phase 7: 质量指标
  min_readme_length: 500
  max_days_since_update: 90

huggingface:
  enabled: true
  api_url: "https://huggingface.co/api/datasets"
  timeout_seconds: 20  # P15: HuggingFace API超时配置

  # Phase 7: 收敛关键词+任务类别
  keywords:
    - code
    - programming
    - software
    - benchmark
    - backend
    - api
    - database
    - sql
    - microservices
    - system-design

  task_categories:
    - code
    - software-engineering

  min_downloads: 100
  max_results: 50
  lookback_days: 7    # 7天窗口，提高新鲜度

# ============================================================
# 团队线索 (Internal Sources)
# ============================================================

feishu_chat:
  enabled: false  # Phase 7+
  app_id: ${FEISHU_APP_ID}
  app_secret: ${FEISHU_APP_SECRET}
  monitored_groups:
    - "Benchmark研究群"
  keywords:
    - benchmark
    - 评测
  lookback_days: 7

# ============================================================
# 社交媒体 (Social Media)
# ============================================================

twitter:
  # ⚠️ Twitter API v2 免费套餐限制说明:
  # - 免费API每月仅100次读取，不支持Search API
  # - 数据采集需要Basic套餐（$100/月）或更高级别
  # - 详见: https://developer.x.com/en/docs/x-api/rate-limits
  enabled: false  # 默认禁用（需付费API才能采集）
  lookback_days: 7
  max_results_per_query: 50
  search_queries:
    tier1:
      - "arxiv.org benchmark"
      - "github.com benchmark"
      - "huggingface.co benchmark"
    tier2:
      - "HumanEval arxiv"
      - "SWE-bench github"
      - "agent benchmark paper"
  filters:
    min_likes: 50
    min_retweets: 20
    must_have_url: true
    language: "en"
  rate_limit_delay: 5.0

# ============================================================
# 后端专项数据源 (Backend-Specific Sources)
# ============================================================

techempower:
  enabled: true
  base_url: "https://tfb-status.techempower.com"
  timeout_seconds: 25  # P15: TechEmpower大JSON响应偏慢,提高超时
  min_composite_score: 50.0

dbengines:
  enabled: true
  base_url: "https://db-engines.com/en"
  timeout_seconds: 15
  max_results: 50

# ============================================================
# 全局配置 (Global Settings)
# ============================================================

global:
  max_concurrent_collectors: 5

  deduplication:
    url_normalization: true
    title_similarity_threshold: 0.9

  adaptive_window:
    enabled: true
    min_candidates_per_run: 5
    max_lookback_multiplier: 3

  error_handling:
    retry_on_timeout: true
    max_retries: 3
    fallback_to_cache: true
